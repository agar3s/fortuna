extends Node2D


const keys = [
	'01',
	'02', '02-02-02', '02-02-02!',	# covered
	'03',
	'04', '04-04', '04-04-04', # covered
	'05',
	'06', '06-06', '06-06-06', '06-06-06!', '06-06-14', # covered
	'07', '07-07', '07-07-07', '07-07-07!', '07-07-14', # covered
	'08', '08-08', '08-08-08', '08-08-08!', '08-08-14', # covered
	'09', '09-09', '09-09-09', '09-09-09!', # covered
	'10', '10-10', '10-10-10', '10-10-10!', '10-10-14',# covered
	'11', '11-11', '11-11-11', '11-11-11!', '11-11-14', # covered
	'12', '12-12', '12-12-12', '12-12-12!', # covered
	'13', '13-13-13', '13-13-13!', # covered
	'14', '14-14', '14-14-14', '14-14-14!', # covered
	'15', '15-15', '15-15-15', '15-15-15!', # covered
	'16', '16-16', '16-16-16', '16-16-16!', # covered
	'17', '17-17', '17-17-17', '17-17-17!', '14-17-17', #covered
	'18', '18-18', '18-18-18', '18-18-18!', '14-18-18', #covered
	'06-07-08', '06-07-08!',
	'10-17-18', '10-17-18!',
	'11-15-16', '11-15-16!',
	'09-12-13', '09-12-13!'
]
func _ready():
	run_tests()
	$Check.connect("button_down", self, "run_tests")
	

func run_tests():

	var tests = [
		[['02', '02', '01'], ['01', '02', '02']],
		[['01', '01', '02'], ['01', '01', '02']],
		[['01', '02', '02'], ['01', '02', '02']],
		[['02', '02', '02'], ['02-02-02']],
		[['01', '02', '03'], ['01', '02', '03']],
		[['04', '04', '04'], ['04-04-04']],
		[['04', '08', '04'], ['04-04', '08']],
		
		[['06', '01', '06'], ['01', '06-06']],
		[['06', '06', '06'], ['06-06-06']],
		[['14', '06', '06'], ['06-06-14']],
		[['06', '14', '06'], ['06-06-14']],
		[['06', '06', '14'], ['06-06-14']],
		
		[['07', '07', '09'], ['07-07', '09']],
		[['07', '07', '07'], ['07-07-07']],
		[['14', '07', '07'], ['07-07-14']],
		[['07', '14', '07'], ['07-07-14']],
		[['07', '07', '14'], ['07-07-14']],
		
		[['02', '08', '08'], ['02', '08-08']],
		[['08', '08', '08'], ['08-08-08']],
		[['14', '08', '08'], ['08-08-14']],
		[['08', '14', '08'], ['08-08-14']],
		[['08', '08', '14'], ['08-08-14']],
		
		[['16', '09', '09'], ['09-09', '16']],
		[['09', '09', '09'], ['09-09-09']],
		
		[['10', '10', '03'], ['03', '10-10']],
		[['10', '10', '10'], ['10-10-10']],
		[['14', '10', '10'], ['10-10-14']],
		[['10', '14', '10'], ['10-10-14']],
		[['10', '10', '14'], ['10-10-14']],
		
		[['02', '11', '11'], ['02', '11-11']],
		[['11', '11', '11'], ['11-11-11']],
		[['14', '11', '11'], ['11-11-14']],
		[['11', '14', '11'], ['11-11-14']],
		[['11', '11', '14'], ['11-11-14']],
		
		[['16', '12', '12'], ['12-12', '16']],
		[['12', '12', '12'], ['12-12-12']],

		[['16', '13', '13'], ['13', '13', '16']],
		[['13', '13', '13'], ['13-13-13']],
		
		[['01', '14', '14'], ['01', '14-14']],
		[['14', '14', '14'], ['14-14-14']],

		[['15', '12', '15'], ['12', '15-15']],
		[['15', '15', '15'], ['15-15-15']],

		[['16', '16', '01'], ['01', '16-16']],
		[['16', '16', '16'], ['16-16-16']],
			
		[['02', '17', '17'], ['02', '17-17']],
		[['17', '17', '17'], ['17-17-17']],
		[['14', '17', '17'], ['14-17-17']],
		[['17', '14', '17'], ['14-17-17']],
		[['17', '17', '14'], ['14-17-17']],
		
		[['02', '18', '18'], ['02', '18-18']],
		[['18', '18', '18'], ['18-18-18']],
		[['14', '18', '18'], ['14-18-18']],
		[['18', '14', '18'], ['14-18-18']],
		[['18', '18', '14'], ['14-18-18']],
		
		[['07', '08', '06'], ['06-07-08']],
		[['10', '08', '06'], ['06', '08', '10']],
		
		[['18', '17', '10'], ['10-17-18']],
		[['18', '10', '06'], ['06', '10', '18']],
		
		[['11', '15', '16'], ['11-15-16']],
		[['16', '01', '11'], ['01', '11', '16']],

		[['09', '12', '13'], ['09-12-13']],
		[['09', '13', '12'], ['09-12-13']],
		[['12', '09', '13'], ['09-12-13']],
		[['12', '13', '09'], ['09-12-13']],
		[['13', '12', '09'], ['09-12-13']],
		[['13', '09', '12'], ['09-12-13']],
		[['13', '01', '12'], ['01', '12', '13']]
	]

	$DebugComboList.text = 'values \t\t   combo found\t   test\n'
	var passed = 0
	var failed = 0
	for test in tests:
		var res = $BattleEngine.get_node('SpellChecker').find_combos(test[0])
		if res == test[1]:
			passed +=1
		else:
			failed += 1
		$DebugComboList.text += '%s \t %s\t%s\n' % [test[0], res, res==test[1]]
	$DebugComboList.text += '\ntest finished %s passed %s failed' % [passed, failed]

